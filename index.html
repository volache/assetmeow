<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AssetMeow - å°å‹ PWA App</title>

  <!-- æ­£ç¢ºè·¯å¾‘å¼•ç”¨ manifest.json -->
  <link rel="manifest" href="./manifest.json">

  <!-- App Icon -->
  <link rel="icon" href="./icons/icon-192.png" type="image/png">

  <!-- é¡è‰²ä¸»é¡Œè¨­å®š -->
  <meta name="theme-color" content="#4CAF50">
  <meta name="apple-mobile-web-app-capable" content="yes">
</head>

<body>
  <h1>ğŸ¾ æ­¡è¿ä¾†åˆ° AssetMeow å°å‹ PWA App</h1>
  <p id="data">ï¼ˆé€™è£¡æœƒé¡¯ç¤ºå¾ Google Apps Script æ’ˆå›ä¾†çš„è³‡æ–™ï¼‰</p>

  <button onclick="fetchData()">ğŸš€ å–å¾—æœ€æ–°è³‡æ–™</button>

  <script>
    // è¨»å†Š Service Worker
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('./service-worker.js', { scope: './' })
        .then(registration => {
          console.log('âœ… Service Worker è¨»å†ŠæˆåŠŸï¼š', registration);
        })
        .catch(error => {
          console.error('âŒ Service Worker è¨»å†Šå¤±æ•—ï¼š', error);
        });
    }

    // å‘¼å« Google Apps Script Web API
    function fetchData() {
      fetch('https://script.google.com/macros/s/ä½ çš„GASéƒ¨ç½²ID/exec')
        .then(response => response.json())
        .then(data => {
          document.getElementById('data').textContent = 'å›å‚³è³‡æ–™ï¼š' + JSON.stringify(data);
        })
        .catch(error => {
          console.error('âŒ å–å¾—è³‡æ–™å¤±æ•—ï¼š', error);
          document.getElementById('data').textContent = 'âŒ è³‡æ–™ç„¡æ³•å–å¾—';
        });
    }
  </script>
</body>
</html>
